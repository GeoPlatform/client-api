/*
This software has been approved for release by the U.S. Department of the Interior. Although the software has been subjected to rigorous review, the DOI reserves the right to update the software as needed pursuant to further analysis and review. No warranty, expressed or implied, is made by the DOI or the U.S. Government as to the functionality of the software and related material nor shall the fact of release constitute any such warranty. Furthermore, the software is released on condition that neither the DOI nor the U.S. Government shall be held liable for any damages resulting from its authorized or unauthorized use.
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("angular"),require("@geoplatform/client")):"function"==typeof define&&define.amd?define("@geoplatform/client/angularjs",["exports","angular","@geoplatform/client"],t):t(((e=e||self).geoplatform=e.geoplatform||{},e.geoplatform.client=e.geoplatform.client||{},e.geoplatform.client.angularjs={}),e.angular,e.geoplatform.client)}(this,function(e,t,r){"use strict";var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function o(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(e){function r(r){var n=e.call(this,r)||this;if(null==t)throw new Error("AngularJS could not be found globally");return r&&r.$http&&(n.$http=r.$http),r&&r.$q&&(n.$q=r.$q),n}return o(r,e),r.prototype.createRequestOpts=function(e){var t={method:e.method,url:e.url,timeout:e.timeout||this.timeout};if(!0===e.json||"json"===e.responseType?t.dataType="json":"text"===e.responseType&&(t.dataType="text"),e.params&&(t.params=e.params),e.data&&(t.data=e.data),t.headers={},e.headers&&Object.assign(t.headers,e.headers),this.token){var r=this.token();r&&(t.headers.Authorization="Bearer "+r,t.useXDomain=!0)}var n=this.getCookie();if(n&&(t.headers.Cookie=this.authCookieName+"="+n),e.options)for(var o in e.options)e.options.hasOwnProperty(o)&&(t[o]=e.options[o]);return t},r.prototype.execute=function(e){var r=t.injector(["ng"]),n=this.$q||r.get("$q"),o=this.$http||r.get("$http"),i=n.defer();return o(e).then(function(e){i.resolve(e.data)}).catch(function(e){var t=null,r=e.data;"object"==typeof r&&r.message?(t=new Error(r.message)).status=r.statusCode||500:t="string"==typeof r?new Error(r):new Error("An error occurred issuing the request"),i.reject(t)}),i.promise.then(function(e){return e})},r}(r.GPHttpClient),c=function(e){function t(t,r,n){var o=e.call(this,t,r)||this;return o.$q=n,o}return o(t,e),t.prototype.createPromise=function(e){return this.$q(e)},t.prototype.createAndResolvePromise=function(e){return this.$q.resolve(e)},t.prototype.createAndRejectPromise=function(e){return this.$q.reject(e)},t}(r.ItemService),u=function(e){function t(t,r,n){var o=e.call(this,t,r)||this;return o.$q=n,o}return o(t,e),t.prototype.createPromise=function(e){return this.$q(e)},t.prototype.createAndResolvePromise=function(e){return this.$q.resolve(e)},t.prototype.createAndRejectPromise=function(e){return this.$q.reject(e)},t}(r.DatasetService),s=function(e){function t(t,r,n){var o=e.call(this,t,r)||this;return o.$q=n,o}return o(t,e),t.prototype.createPromise=function(e){return this.$q(e)},t.prototype.createAndResolvePromise=function(e){return this.$q.resolve(e)},t.prototype.createAndRejectPromise=function(e){return this.$q.reject(e)},t}(r.GalleryService),a=function(e){function t(t,r,n){var o=e.call(this,t,r)||this;return o.$q=n,o}return o(t,e),t.prototype.createPromise=function(e){return this.$q(e)},t.prototype.createAndResolvePromise=function(e){return this.$q.resolve(e)},t.prototype.createAndRejectPromise=function(e){return this.$q.reject(e)},t}(r.LayerService),p=function(e){function t(t,r,n){var o=e.call(this,t,r)||this;return o.$q=n,o}return o(t,e),t.prototype.createPromise=function(e){return this.$q(e)},t.prototype.createAndResolvePromise=function(e){return this.$q.resolve(e)},t.prototype.createAndRejectPromise=function(e){return this.$q.reject(e)},t}(r.MapService),f=function(e){function t(t,r,n){var o=e.call(this,t,r)||this;return o.$q=n,o}return o(t,e),t.prototype.createPromise=function(e){return this.$q(e)},t.prototype.createAndResolvePromise=function(e){return this.$q.resolve(e)},t.prototype.createAndRejectPromise=function(e){return this.$q.reject(e)},t}(r.ServiceService),l=function(e){function t(t,r,n){var o=e.call(this,t,r)||this;return o.$q=n,o}return o(t,e),t.prototype.createPromise=function(e){return this.$q(e)},t.prototype.createAndResolvePromise=function(e){return this.$q.resolve(e)},t.prototype.createAndRejectPromise=function(e){return this.$q.reject(e)},t}(r.UtilsService),h=function(e){function t(t,r,n){var o=e.call(this,t,r)||this;return o.$q=n,o}return o(t,e),t.prototype.createPromise=function(e){return this.$q(e)},t.prototype.createAndResolvePromise=function(e){return this.$q.resolve(e)},t.prototype.createAndRejectPromise=function(e){return this.$q.reject(e)},t}(r.AssociationService);if(t&&void 0!==t.module){var v=function(e,t,r,n){return c===t||u===t||f===t||a===t||p===t||s===t||l===t||h===t?new t(r,e,n):new t(r,e)};t.module("gpClient",[]).provider("gpConfig",function(){return{$get:function(){return r.Config}}}).factory("gpQueryFactory",function(){return r.QueryFactory}).factory("gpNgHttpClient",["$http","$q",function(e,t){return new i({$http:e,$q:t})}]).factory("gpTrackingServiceFactory",function(){return function(e){return new r.TrackingService(e)}});var y={gpItemService:c,gpUtilsService:l,gpDatasetService:u,gpServiceService:f,gpLayerService:a,gpMapService:p,gpGalleryService:s,gpAssociationService:h};Object.keys(y).forEach(function(e){var r=y[e];t.module("gpClient").service(e,["gpNgHttpClient","gpConfig","$q",function(e,t,n){return v(e,r,t.ualUrl,n)}]).factory(e+"Factory",["gpNgHttpClient","gpConfig","$q",function(e,t,n){return function(o){return v(e,r,o||t.ualUrl,n)}}])})}e.NGHttpClient=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=geoplatform-client-angularjs.umd.min.js.map